<div class="notifications-page">
  <app-nav-header [showChatNav]="false" [showCancel]="false" [showBack]="true"></app-nav-header>

  <h2>Notificações</h2>

  <div *ngIf="loading" class="loading">Carregando...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <ul class="list" *ngIf="!loading && !error">
    <li class="item" *ngFor="let n of notifications" [class.read]="n.readAt !== null">
      <div class="message">{{ getNotificationMessage(n) }}</div>
      <div class="meta">
        <span class="type">{{ n.type }}</span>
        <span class="date">{{ n.createdAt | date:'short' }}</span>
      </div>
      <button class="btn" (click)="markAsRead(n)" [disabled]="n.readAt !== null">Marcar como lida</button>
    </li>
  </ul>
</div>